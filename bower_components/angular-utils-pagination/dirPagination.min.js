/*! mifosx-community-app 2015-10-11 */
!function(){var a,b="angularUtils.directives.dirPagination",c="__default";try{a=angular.module(b)}catch(d){a=angular.module(b,[])}a.directive("dirPaginate",["$compile","$parse","paginationService",function(a,b,d){return{terminal:!0,multiElement:!0,priority:5e3,compile:function(e,f){var g=f.dirPaginate,h=g.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?\s*$/),i=/\|\s*itemsPerPage\s*:[^|]*/;if(null===h[2].match(i))throw"pagination directive: the 'itemsPerPage' filter must be set.";var j=h[2].replace(i,""),k=b(j),l=f.paginationId||c;return d.registerInstance(l),function(e,f,h){var i=b(h.paginationId)(e)||h.paginationId||c;d.registerInstance(i);var j,l=!!g.match(/(\|\s*itemsPerPage\s*:[^|]*:[^|]*)/);j=i===c||l?g:g.replace(/(\|\s*itemsPerPage\s*:[^|]*)/,"$1 : '"+i+"'"),f[0].hasAttribute("dir-paginate-start")||f[0].hasAttribute("data-dir-paginate-start")?(h.$set("ngRepeatStart",j),f.eq(f.length-1).attr("ng-repeat-end",!0)):h.$set("ngRepeat",j);var m,n=a(f,!1,5e3);if(h.currentPage)m=b(h.currentPage);else{var o=i+"__currentPage";e[o]=1,m=b(o)}d.setCurrentPageParser(i,m,e),"undefined"!=typeof h.totalItems?(d.setAsyncModeTrue(i),e.$watch(function(){return b(h.totalItems)(e)},function(a){a>=0&&d.setCollectionLength(i,a)})):e.$watchCollection(function(){return k(e)},function(a){a&&d.setCollectionLength(i,a.length)}),n(e)}}}}]),a.directive("dirPaginationControls",["paginationService","paginationTemplate",function(a,b){function d(a,b,c,d){var f,g=[],h=Math.ceil(b/c),i=Math.ceil(d/2);f=i>=a?"start":a>h-i?"end":"middle";for(var j=h>d,k=1;h>=k&&d>=k;){var l=e(k,a,d,h),m=2===k&&("middle"===f||"end"===f),n=k===d-1&&("middle"===f||"start"===f);g.push(j&&(m||n)?"...":l),k++}return g}function e(a,b,c,d){var e=Math.ceil(c/2);return a===c?d:1===a?a:d>c?b>d-e?d-c+a:b>e?b-e+a:a:a}var f=/^\d+$/;return{restrict:"AE",templateUrl:function(a,c){return c.templateUrl||b.getPath()},scope:{maxSize:"=?",onPageChange:"&?",paginationId:"=?"},link:function(b,e,g){function h(c){k(c)&&(b.pages=d(c,a.getCollectionLength(m),a.getItemsPerPage(m),o),b.pagination.current=c,j(),b.onPageChange&&b.onPageChange({newPageNumber:c}))}function i(){var c=parseInt(a.getCurrentPage(m))||1;b.pages=d(c,a.getCollectionLength(m),a.getItemsPerPage(m),o),b.pagination.current=c,b.pagination.last=b.pages[b.pages.length-1],b.pagination.last<b.pagination.current?b.setCurrent(b.pagination.last):j()}function j(){var c=a.getCurrentPage(m),d=a.getItemsPerPage(m),e=a.getCollectionLength(m);b.range.lower=(c-1)*d+1,b.range.upper=Math.min(c*d,e),b.range.total=e}function k(a){return f.test(a)&&a>0&&a<=b.pagination.last}var l=g.paginationId||c,m=b.paginationId||g.paginationId||c;if(!a.isRegistered(m)&&!a.isRegistered(l)){var n=m!==c?" (id: "+m+") ":" ";throw"pagination directive: the pagination controls"+n+"cannot be used without the corresponding pagination directive."}b.maxSize||(b.maxSize=9),b.directionLinks=angular.isDefined(g.directionLinks)?b.$parent.$eval(g.directionLinks):!0,b.boundaryLinks=angular.isDefined(g.boundaryLinks)?b.$parent.$eval(g.boundaryLinks):!1;var o=Math.max(b.maxSize,5);b.pages=[],b.pagination={last:1,current:1},b.range={lower:1,upper:1,total:1},b.$watch(function(){return(a.getCollectionLength(m)+1)*a.getItemsPerPage(m)},function(a){a>0&&i()}),b.$watch(function(){return a.getItemsPerPage(m)},function(a,c){a!=c&&"undefined"!=typeof c&&h(b.pagination.current)}),b.$watch(function(){return a.getCurrentPage(m)},function(a,b){a!=b&&h(a)}),b.setCurrent=function(b){k(b)&&a.setCurrentPage(m,b)}}}}]),a.filter("itemsPerPage",["paginationService",function(a){return function(b,d,e){if("undefined"==typeof e&&(e=c),!a.isRegistered(e))throw"pagination directive: the itemsPerPage id argument (id: "+e+") does not match a registered pagination-id.";var f,g;return b instanceof Array?(d=parseInt(d)||9999999999,g=a.isAsyncMode(e)?0:(a.getCurrentPage(e)-1)*d,f=g+d,a.setItemsPerPage(e,d),b.slice(g,f)):b}}]),a.service("paginationService",function(){var a,b={};this.registerInstance=function(c){"undefined"==typeof b[c]&&(b[c]={asyncMode:!1},a=c)},this.isRegistered=function(a){return"undefined"!=typeof b[a]},this.getLastInstanceId=function(){return a},this.setCurrentPageParser=function(a,c,d){b[a].currentPageParser=c,b[a].context=d},this.setCurrentPage=function(a,c){b[a].currentPageParser.assign(b[a].context,c)},this.getCurrentPage=function(a){var c=b[a].currentPageParser;return c?c(b[a].context):1},this.setItemsPerPage=function(a,c){b[a].itemsPerPage=c},this.getItemsPerPage=function(a){return b[a].itemsPerPage},this.setCollectionLength=function(a,c){b[a].collectionLength=c},this.getCollectionLength=function(a){return b[a].collectionLength},this.setAsyncModeTrue=function(a){b[a].asyncMode=!0},this.isAsyncMode=function(a){return b[a].asyncMode}}),a.provider("paginationTemplate",function(){var a="directives/pagination/dirPagination.tpl.html";this.setPath=function(b){a=b},this.$get=function(){return{getPath:function(){return a}}}})}();